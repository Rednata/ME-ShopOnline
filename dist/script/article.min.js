!function(){"use strict";const e=document.querySelector(".header"),t=document.querySelector("main"),n=document.createElement("div");n.classList.add("articleWrap","container");const a=a=>{const{title:s,body:i,user_id:l}=a,o=(e=>{const t=document.createElement("div");return t.classList.add("bread"),t.insertAdjacentHTML("afterbegin",`<ul class="nav-breadcrumb">\n          <li class="nav-breadcrumb__li">\n            <a class="nav-breadcrumb__main" href="index.html">Главная</a>\n          </li>\n          <li class="nav-breadcrumb__li">\n            <a class="goBlog" href="blog.html">Блог</a>\n          </li>\n          <li class="nav-breadcrumb__li nav-breadcrumb__title">${e}\n          </li>      \n        </ul>\n      `),t})(s),r=((e,t)=>{const n=document.createElement("section");return n.insertAdjacentHTML("afterbegin",`\n        <article class="article">\n          <h1 class="title article__title">${e}</h1>\n          <p class="article__text">${t}</p>\n        </article>\n      `),n})(s,i),d=(()=>{const e=document.createElement("aside");return e.className="aside",e.insertAdjacentHTML("afterbegin",'\n        <img src="assets/images/add.jpg" alt="" class="article__img">\n        <img src="assets/images/add.jpg" alt="" class="article__img">\n      '),e})();c(l),n.append(d,r),e.append(o),t.append(n)},c=async e=>{const t=await fetch(`https://gorest.co.in/public-api/users/${e}`);(e=>{const t=e.data.name||"",a=document.createElement("footer");a.classList.add("footer-article"),a.insertAdjacentHTML("afterbegin",`\n        <a class="footer-article__back" href="blog.html">К списку статей</a>\n          <div class="footer-article__about">\n          <div class="footer-article__author">\n            ${t}\n          </div>\n\n          <div class="info info_article">\n          <span class="info__date">22 октября 2021, 12:45</span>\n          <div class="info-wrap">\n            <div class="info__view">\n              <span class="info__img info__img_view"></span>\n              <p class="info__count">1.2K</p>              \n            </div>\n            <div class="info__comments">\n              <span class="info__img info__img_comments"></span>\n              <p class="info__count">0</p>              \n            </div>\n          </div>\n          </div> \n          \n        </div>\n      `),n.append(a)})(await t.json())},s="https://determined-painted-hawthorn.glitch.me/api",i=(e,t)=>{const n=document.createElement(e);return n.className=t,n},l=e=>{const t=i("li","sublist__item"),n=i("a","sublist__link");return n.textContent=e,t.append(n),n.href=`catalog.html?category=${e}`,t},o=()=>(JSON.parse(localStorage.getItem("cart"))||[]).reduce(((e,t)=>e+Number(t.count)),0)||"",r=async()=>{const e=await(async e=>{const t=await fetch(s+e);return await t.json()})("/category"),t=document.querySelector(".header .sublist_catalog"),n=document.querySelector(".footer .sublist_catalog"),a=e.map((e=>l(e))),c=e.map((e=>l(e)));t.append(...a),n.append(...c)};(async()=>{const e=new URL(window.location).search.slice(4),t=await fetch(`https://gorest.co.in/public-api/posts/${e}`),n=await t.json();a(n.data)})(),(()=>{const e=document.querySelectorAll(".nav__item_catalog .nav__title"),t=document.querySelectorAll(".nav__item_buyer .nav__title"),n=document.querySelectorAll(".sublist_catalog"),a=document.querySelectorAll(".sublist_buyer");e.forEach(((e,t)=>{e.addEventListener("click",(()=>{n[t].classList.toggle("sublist_show")}))})),t.forEach(((e,t)=>{e.addEventListener("click",(()=>{a[t].classList.toggle("sublist_show")}))}))})(),(()=>{const e=document.querySelector(".menu"),t=e.querySelector(".menu__img");e.addEventListener("click",(()=>{document.querySelector(".header-nav").classList.toggle("header-nav_active"),t.classList.toggle("menu__img-active")}))})(),r(),(e=>{const t=o(),n=document.querySelector(".btn-cart__count");t?(n.textContent=t,n.style.backgroundColor="#ffffff"):(n.textContent=t,n.style.backgroundColor="transparent"),e&&(document.querySelector(".cart__count").textContent=t,document.querySelector(".span__count").textContent=t)})()}();