{"version":3,"file":"article.js","mappings":";;;;;;;;;;;;;;;;;;AAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,UAAU;AAC/B;AACA;AACA;AACA,yCAAyC,GAAG;AAC5C;AACA;AACA,2DAA2D,GAAG;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,GAAG;AAChE,2CAA2C,MAAM;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA,wCAAwC,EAAE;AAC1C,kCAAkC,EAAE;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,MAAM;AACnD,qCAAqC,KAAK;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,EAAE,qDAAU;AACZ;AACA;AACA;AACA;AACiF;;;;;;;;;;;;;;;;;;;AClOS;AACxC;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,YAAY;AACnF;AACA;AACA,EAAE,sEAAc;AAChB;AACA,EAAE,gEAAY;AACd;AACA;AACA;AACA;AACA;AACA,wEAAwE,YAAY;AACpF;AACA;AACA;AACA,EAAE,yEAAiB;AACnB;AACA;AACA;AACA,wEAAwE,OAAO;AAC/E;AACA;AACA;AACA,EAAE,oEAAY;AACd;AACA;AACA;AACA;AACA;AAC4C;;;;;;;;;;;;;;;;ACvCqB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,8EAAsB;AAC5B,MAAM;AACN,MAAM,8EAAsB;AAC5B;AACA,IAAI;AACJ,IAAI,8EAAsB;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACsB;;;;;;;;;;;;;;;;ACrCf;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACO;AACP;AACA;AACA;AACA,GAAG;AACH;;;;;;;UC1BA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACNiD;AACU;AAC3D;AACA;AACA,EAAE,8DAAW;AACb,EAAE,0EAAc;AAChB;AACA;AACA;AACA","sources":["webpack://me-shoponline/./src/script/modules/createElementsBlog.js","webpack://me-shoponline/./src/script/modules/fetch.js","webpack://me-shoponline/./src/script/modules/paginationFunc.js","webpack://me-shoponline/./src/script/modules/showNavigation.js","webpack://me-shoponline/webpack/bootstrap","webpack://me-shoponline/webpack/runtime/define property getters","webpack://me-shoponline/webpack/runtime/hasOwnProperty shorthand","webpack://me-shoponline/webpack/runtime/make namespace object","webpack://me-shoponline/./src/script/article.js"],"sourcesContent":["import { loadAuthor } from './fetch.js';\r\n// ===================== BLOG ==========================\r\n\r\nconst headerPage = document.querySelector('.header');\r\nconst footerPage = document.querySelector('.footer');\r\n\r\nconst createSection = () => {\r\n  const section = document.createElement('section');\r\n  section.classList.add('section', 'container');\r\n\r\n  return section;\r\n};\r\n\r\nconst createUl = () => {\r\n  const ul = document.createElement('ul');\r\n  ul.classList.add('blog');\r\n\r\n  return ul;\r\n};\r\n\r\nconst createPost = ({title, id}) => {\r\n  const li = document.createElement('li');\r\n  li.classList.add('blog-item');\r\n\r\n  // const linkPost = `article.html?id=${id}`;\r\n  li.insertAdjacentHTML('afterbegin',\r\n      `\r\n        <a class=\"blog-item__link\" href=\"article.html?id=${id}\" target=\"_blank\">\r\n\r\n        <picture>\r\n          <source srcset=\"assets/images/Rectangle.avif\" type=\"image/avif\">\r\n          <source srcset=\"assets/images/Rectangle.webp\" type=\"image/webp\">\r\n          <img class=\"blog-item__image\" src=\"./assets/images/Rectangle.jpg\" alt=\"\">\r\n        </picture>\r\n\r\n          \r\n        </a> \r\n        <div class=\"blog-item__content\">\r\n          <a class=\"blog-item__link\" href=\"article.html?id=${id}\" target=\"_blank\">\r\n            <h2 class=\"blog-item__title\">${title}</h2>\r\n          </a>\r\n\r\n          <div class=\"info\">\r\n          <span class=\"info__date\">22 октября 2021, 12:45</span>\r\n          <div class=\"info-wrap\">\r\n            <div class=\"info__view\">\r\n              <span class=\"info__img info__img_view\"></span>\r\n              <p class=\"info__count\">1.2K</p>              \r\n            </div>\r\n            <div class=\"info__comments\">\r\n              <span class=\"info__img info__img_comments\"></span>\r\n              <p class=\"info__count\">0</p>              \r\n            </div>\r\n          </div>\r\n          </div>          \r\n\r\n        </div>  \r\n      `);\r\n  return li;\r\n};\r\n\r\nconst renderPost = (postList) => {\r\n  const data = postList.map(post => createPost(post));\r\n\r\n  return data;\r\n};\r\n\r\n// ================  PAGINATION  ========================\r\nconst createPaginationWrap = () => {\r\n  const paginationWrap = document.createElement('div');\r\n  paginationWrap.classList.add('pagination');\r\n  paginationWrap.insertAdjacentHTML('afterbegin',\r\n      `    \r\n        <a class=\"arrow arrow_left\"></a>\r\n        <div class=\"pagination-group\">\r\n        </div>\r\n        <a class=\"arrow arrow_right\"></a>    \r\n      `);\r\n  return paginationWrap;\r\n};\r\n\r\nconst createPaginationNumber = (paginationWrap, currentPage, startPage) => {\r\n  startPage ||= currentPage;\r\n  const pagination = paginationWrap.querySelector('.pagination-group');\r\n  pagination.innerHTML = '';\r\n  const pages = [];\r\n  for (let i = startPage; i < startPage + 3; i++) {\r\n    const link = document.createElement('a');\r\n    link.className = 'pagination__page';\r\n    if (i === currentPage) {\r\n      link.classList.add('active');\r\n    }\r\n    link.setAttribute('data-number', `${i}`);\r\n    link.href = `blog.html?page=${i}`;\r\n    link.textContent = i;\r\n    pages.push(link);\r\n  }\r\n  pagination.append(...pages);\r\n  return pagination;\r\n};\r\n\r\nconst createBlogPage = (postList, currentPage) => {\r\n  const section = createSection();\r\n  const blog = createUl();\r\n  blog.append(...renderPost(postList.data));\r\n  section.append(blog);\r\n\r\n  const breadcrumb = document.createElement('div');\r\n  breadcrumb.classList.add('bread', 'container');\r\n  breadcrumb.insertAdjacentHTML('afterbegin',\r\n      `<ul class=\"nav-breadcrumb\">\r\n          <li class=\"nav-breadcrumb__li\">\r\n            <a class=\"nav-breadcrumb__main\" href=\"index.html\">Главная</a>\r\n          </li>\r\n          <li class=\"nav-breadcrumb__li\">\r\n            <a class=\"goBlog\" href=\"blog.html\">Блог</a>\r\n          </li>           \r\n        </ul>\r\n      `);\r\n\r\n  headerPage.after(breadcrumb, section);\r\n\r\n  const paginationWrap = createPaginationWrap();\r\n  const pagination = createPaginationNumber(paginationWrap, currentPage);\r\n  section.append(paginationWrap);\r\n\r\n  footerPage.before(section);\r\n  // document.body.append(section);\r\n  return {pagination};\r\n};\r\n\r\n// ============  ARTICLE ================\r\nconst articleWrap = document.createElement('div');\r\narticleWrap.className = 'articleWrap';\r\n\r\nconst createHeader = (title) => {\r\n  const breadcrumb = document.createElement('div');\r\n  breadcrumb.classList.add('bread', 'container');\r\n  breadcrumb.insertAdjacentHTML('afterbegin',\r\n      `<ul class=\"nav-breadcrumb\">\r\n          <li class=\"nav-breadcrumb__li\">\r\n            <a class=\"nav-breadcrumb__main\" href=\"index.html\">Главная</a>\r\n          </li>\r\n          <li class=\"nav-breadcrumb__li\">\r\n            <a class=\"goBlog\" href=\"blog.html\">Блог</a>\r\n          </li>\r\n          <li class=\"nav-breadcrumb__li nav-breadcrumb__title\">${title}\r\n          </li>      \r\n        </ul>\r\n      `);\r\n  return breadcrumb;\r\n};\r\n\r\nconst createMain = (title, body) => {\r\n  const main = document.createElement('main');\r\n  main.classList.add('main');\r\n  main.insertAdjacentHTML('afterbegin',\r\n      `\r\n        <article class=\"article\">\r\n          <h1 class=\"title article__title\">${title}</h1>\r\n          <p class=\"article__text\">${body}</p>\r\n        </article>\r\n      `);\r\n  return main;\r\n};\r\n\r\nconst createAside = () => {\r\n  const aside = document.createElement('aside');\r\n  aside.className = 'aside';\r\n  aside.insertAdjacentHTML('afterbegin',\r\n      `\r\n        <img src=\"assets/images/add.jpg\" alt=\"\" class=\"article__img\">\r\n        <img src=\"assets/images/add.jpg\" alt=\"\" class=\"article__img\">\r\n      `);\r\n  return aside;\r\n};\r\n\r\nconst createFooter = (author) => {\r\n  const nameAuthor = author.data.name || '';\r\n  const footer = document.createElement('footer');\r\n  footer.classList.add('footer-article');\r\n  footer.insertAdjacentHTML('afterbegin',\r\n      `\r\n        <a class=\"footer-article__back\" href=\"blog.html\">К списку статей</a>\r\n          <div class=\"footer-article__about\">\r\n          <div class=\"footer-article__author\">\r\n            ${nameAuthor}\r\n          </div>\r\n\r\n          <div class=\"info info_article\">\r\n          <span class=\"info__date\">22 октября 2021, 12:45</span>\r\n          <div class=\"info-wrap\">\r\n            <div class=\"info__view\">\r\n              <span class=\"info__img info__img_view\"></span>\r\n              <p class=\"info__count\">1.2K</p>              \r\n            </div>\r\n            <div class=\"info__comments\">\r\n              <span class=\"info__img info__img_comments\"></span>\r\n              <p class=\"info__count\">0</p>              \r\n            </div>\r\n          </div>\r\n          </div> \r\n          \r\n        </div>\r\n      `);\r\n  const main = document.querySelector('.main');\r\n  main.append(footer);\r\n  return footer;\r\n};\r\n\r\nconst createArticlePage = (articleData) => {\r\n  const {\r\n    title,\r\n    body,\r\n    user_id,\r\n  } = articleData;\r\n\r\n  const header = createHeader(title);\r\n  const main = createMain(title, body);\r\n  const aside = createAside();\r\n\r\n  loadAuthor(user_id);\r\n  articleWrap.append(aside, main);\r\n  headerPage.after(header, articleWrap);\r\n};\r\n\r\nexport {createBlogPage, createArticlePage, createPaginationNumber, createFooter};\r\n","import { createBlogPage, createArticlePage, createFooter } from './createElementsBlog.js';\r\nimport {onClickArrow } from './paginationFunc.js';\r\n\r\nconst loadPosts = async (currentPage) => {\r\n  // document.body.innerHTML = '';\r\n\r\n  const url = new URL(window.location);\r\n  const queryParams = url.search;\r\n  currentPage = +queryParams.slice(6) || 1;\r\n\r\n  const response = await fetch(`https://gorest.co.in/public-api/posts${queryParams}`);\r\n  const postList = await response.json();\r\n\r\n  createBlogPage(postList, currentPage);\r\n\r\n  onClickArrow(queryParams);\r\n};\r\n\r\nconst loadArticle = async() => {\r\n  const url = new URL(window.location);\r\n  const queryParams = url.search.slice(4);\r\n  const response = await fetch(`https://gorest.co.in/public-api/posts/${queryParams}`);\r\n\r\n  const articleData = await response.json();\r\n\r\n  createArticlePage(articleData.data);\r\n};\r\n\r\nconst loadAuthor = async(userID) => {\r\n  const response = await fetch(`https://gorest.co.in/public-api/users/${userID}`);\r\n\r\n  const author = await response.json();\r\n  \r\n  createFooter(author);\r\n};\r\n\r\n\r\n\r\n\r\nexport {loadPosts, loadArticle, loadAuthor};\r\n","import { createPaginationNumber } from './createElementsBlog.js';\r\n\r\nconst getStartPage = (pagination) => +pagination.firstElementChild.dataset.number; \r\n\r\nconst changePageNumber = (paginationWrap, startPage, currentPage, arrowDirect) => {\r\n  if (arrowDirect === 'left') {\r\n    if (startPage <= 1) {\r\n      createPaginationNumber(paginationWrap, currentPage, 1);\r\n    } else {\r\n      createPaginationNumber(paginationWrap, currentPage, startPage - 1);\r\n    }\r\n  } else {\r\n    createPaginationNumber(paginationWrap, currentPage, startPage + 1);\r\n  }\r\n};\r\n\r\nconst onClickArrow = (queryParams) => {\r\n  const paginationWrap = document.querySelector('.pagination');\r\n  const pagination = document.querySelector('.pagination-group');\r\n\r\n  paginationWrap.addEventListener('click', (e) => {\r\n    \r\n    if (e.target.closest('.arrow_left')) {\r\n      e.preventDefault();\r\n      const startPage = getStartPage(pagination);\r\n      const currentPage = +queryParams.slice(6);\r\n      changePageNumber(paginationWrap, startPage, currentPage, 'left');\r\n    }\r\n    if (e.target.closest('.arrow_right')) {\r\n      e.preventDefault();\r\n      const startPage = getStartPage(pagination);\r\n      const currentPage = +queryParams.slice(6);\r\n      changePageNumber(paginationWrap, startPage, currentPage, 'right');\r\n    }\r\n  });\r\n};\r\n\r\nexport {onClickArrow};\r\n","export const showNavigation = () => {\r\n  const navFooter = document.querySelector('.navFooter');\r\n  const navTitleCatalog = navFooter.querySelector('.nav__item_catalog').firstElementChild;\r\n  const navTitleBuyer = navFooter.querySelector('.nav__item_buyer').firstElementChild;\r\n\r\n  const catalog = navFooter.querySelector('.sublist_catalog');\r\n  const buyer = navFooter.querySelector('.sublist_buyer');\r\n\r\n  navTitleCatalog.addEventListener('click', () => {\r\n    catalog.classList.toggle('sublist_show');\r\n    const btnCatalog = navTitleCatalog.querySelector('.nav__btn');\r\n    btnCatalog.classList.toggle('nav__btn_open');\r\n  });\r\n\r\n  navTitleBuyer.addEventListener('click', () => {\r\n    buyer.classList.toggle('sublist_show');\r\n    const btnBuyer = navTitleBuyer.querySelector('.nav__btn');\r\n    btnBuyer.classList.toggle('nav__btn_open');\r\n  });\r\n};\r\n\r\nexport const showHeaderMenu = () => {\r\n  const menuBtn = document.querySelector('.menu');\r\n  menuBtn.addEventListener('click', () => {\r\n    document.querySelector('.header-nav').classList.toggle('header-nav_active')\r\n  })\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { loadArticle } from './modules/fetch.js';\r\nimport {showNavigation} from './modules/showNavigation.js';\r\n\r\nconst init = () => {\r\n  loadArticle();\r\n  showNavigation();\r\n};\r\n\r\ninit();\r\n\r\n"],"names":[],"sourceRoot":""}